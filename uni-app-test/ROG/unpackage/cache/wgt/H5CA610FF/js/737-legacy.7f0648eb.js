"use strict";(self["webpackChunkmuban"]=self["webpackChunkmuban"]||[]).push([[737],{737:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mylike"},[i("van-nav-bar",{attrs:{title:"我的收藏","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),i("div",{staticClass:"bg"}),t.mylikeArr.length>0?i("div",{staticClass:"mylike-box"},[i("transition-group",{attrs:{name:"animate__animated animate__bounce","leave-active-class":"animate__bounceOut"}},t._l(t.mylikeArr,(function(e){return i("div",{key:e.pid,staticClass:"mylike-item"},[i("img",{attrs:{src:e.smallImg,alt:""},on:{click:function(i){return t.toDetail(e.pid)}}}),i("div",{staticClass:"mylike-name",on:{click:function(i){return t.toDetail(e.pid)}}},[t._v(t._s(e.name))]),i("div",{staticClass:"mylike-enname",on:{click:function(i){return t.toDetail(e.pid)}}},[i("span",[t._v(t._s(e.enname))])]),i("div",{staticClass:"mylike-price",on:{click:function(i){return t.toDetail(e.pid)}}},[i("span",[t._v("¥"+t._s(e.price))])]),i("div",{staticClass:"trash-bin"},[i("van-icon",{attrs:{name:"delete-o",size:"20"},on:{click:function(i){return t.deletemylike(e.pid)}}})],1)])})),0)],1):i("div",[i("van-empty",{attrs:{description:"您还没有收藏的宝贝哦！"}})],1)],1)},n=[],l=(i(4837),i(9146)),s={created(){this.getMylike(),this.pid=this.$route.query.pid},data(){return{pid:"",mylikeArr:[]}},methods:{getMylike(){this.axios({method:"get",url:"/findAllLike",params:{appkey:this.appkey,tokenString:localStorage.getItem("_lk")}}).then((t=>{console.log("查询成功",t),this.mylikeArr=t.data.result}))},onClickLeft(){this.$router.go(-1)},deletemylike(t){this.$dialog.confirm({title:"取消收藏",message:"是否取消收藏?",confirmButtonColor:"#0c34ba"}).then((()=>{this.$toast({message:"已取消收藏",duration:1e3}),this.axios({method:"post",url:"/notlike",data:{appkey:this.appkey,pid:t,tokenString:localStorage.getItem("_lk")}}).then((t=>{l.Z.clear(),console.log(t),this.getMylike()}))})).catch((t=>{}))},toDetail(t){console.log(t),this.$router.push({name:"Detail",query:{pid:t}})}}},r=s,o=i(3736),c=(0,o.Z)(r,a,n,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=737-legacy.7f0648eb.js.map