"use strict";(self["webpackChunkmuban"]=self["webpackChunkmuban"]||[]).push([[12],{4012:function(e,n,t){t.r(n),t.d(n,{default:function(){return i}});var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"updatepwd-box"},[t("van-nav-bar",{attrs:{title:"修改密码","left-text":"返回","left-arrow":""},on:{"click-left":e.onClickLeft}}),t("div",{staticClass:"update"},[t("van-field",{attrs:{readonly:"readonly",name:"注册手机号",label:"注册手机号",placeholder:"请输入注册时使用的手机号"},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.updatePwd.apply(null,arguments)}},nativeOn:{touchstart:function(n){n.stopPropagation(),e.showkeyboard=!0}},model:{value:e.newpwdInfo.phone,callback:function(n){e.$set(e.newpwdInfo,"phone",n)},expression:"newpwdInfo.phone"}}),t("van-number-keyboard",{attrs:{show:e.showkeyboard},on:{blur:function(n){e.showkeyboard=!1}},model:{value:e.newpwdInfo.phone,callback:function(n){e.$set(e.newpwdInfo,"phone",n)},expression:"newpwdInfo.phone"}}),t("van-field",{attrs:{type:e.showPassword?"password":"text",name:"新密码",label:"新密码",placeholder:"请输入新密码","right-icon":e.showPassword?"closed-eye":"eye-o"},on:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.updatePwd.apply(null,arguments)},"click-right-icon":e.changeEye},model:{value:e.newpwdInfo.password,callback:function(n){e.$set(e.newpwdInfo,"password",n)},expression:"newpwdInfo.password"}}),t("div",{staticStyle:{margin:"16px","margin-top":"25px"}},[t("van-button",{staticStyle:{color:"white",border:"1px solid gray"},attrs:{round:"",block:"",type:"primary",text:"重置密码","native-type":"submit"},on:{click:e.updatePwd}})],1)],1)],1)},a=[],s=t(188),r={data(){return{showkeyboard:!1,showPassword:!0,newpwdInfo:{phone:"",password:""}}},methods:{changeEye(){this.showPassword=!this.showPassword},onClickLeft(){this.$router.push("/login")},updatePwd(){let e={phone:{value:this.newpwdInfo.phone,errorMsg:"手机号格式不正确",reg:/^1[3-9]\d{9}$/},password:{value:this.newpwdInfo.password,errorMsg:"密码由数字字母下划线组合(6-16字符)",reg:/^[A-Za-z]\w{5,15}$/}},n=s.$.valid(e);n&&this.axios({method:"post",url:"/retrievePassword",data:{appkey:this.appkey,phone:this.newpwdInfo.phone,password:this.newpwdInfo.password}}).then((e=>{console.log("请求回来的",e),this.$toast.clear(),"L001"==e.data.code?(this.$toast(e.data.msg),this.$router.push("/login")):this.$toast(e.data.msg)})).catch((e=>{console.log("登录失败",e)}))}}},d=r,l=t(3736),p=(0,l.Z)(d,o,a,!1,null,null,null),i=p.exports},188:function(e,n,t){t.d(n,{$:function(){return r}});t(4837);var o=t(9146),a=t(144);a.Z.use(o.Z);class s{constructor(){}valid(e){for(let n in e)if(!e[n].reg.test(e[n].value))return(0,o.Z)(e[n].errorMsg),!1;return!0}}const r=new s}}]);
//# sourceMappingURL=12-legacy.2adf878e.js.map