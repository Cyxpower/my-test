{"version":3,"file":"js/933.38508f6f.js","mappings":"sJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,YAAY,CAACG,MAAM,CAACC,MAAOR,EAAQ,KAAES,SAAS,SAAUC,GAAMV,EAAIW,KAAKD,GAAKE,WAAW,SAAS,CAACR,EAAG,MAAM,CAACS,MAAM,CAAC,IAAM,EAAQ,MAA4B,IAAM,QAAQT,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,cAAc,CAACS,MAAM,CAAC,MAAQ,OAAO,YAAY,KAAK,aAAa,IAAIC,GAAG,CAAC,aAAad,EAAIe,eAAeX,EAAG,WAAW,CAACS,MAAM,CAAC,MAAQ,KAAK,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASE,GAAQhB,EAAIiB,WAAY,MAASb,EAAG,kBAAkB,CAACS,MAAM,CAAC,MAAQ,UAAU,QAAUb,EAAIkB,SAASJ,GAAG,CAAC,OAASd,EAAImB,UAAUZ,MAAM,CAACC,MAAOR,EAAa,UAAES,SAAS,SAAUC,GAAMV,EAAIiB,UAAUP,GAAKE,WAAW,gBAAgB,GAAGR,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACS,MAAM,CAAC,IAAMb,EAAIoB,OAAOC,UAAU,IAAM,QAAQjB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACJ,EAAIsB,GAAGtB,EAAIuB,GAAGvB,EAAIoB,OAAOI,WAAWpB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,OAAO,CAACJ,EAAIsB,GAAG,IAAItB,EAAIuB,GAAGvB,EAAIoB,OAAOK,cAAcrB,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,OAAO,CAACJ,EAAIsB,GAAGtB,EAAIuB,GAAGvB,EAAIoB,OAAOM,aAAatB,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,OAAO,CAACJ,EAAIsB,GAAG,WAAWtB,EAAIsB,GAAG,KAAKlB,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,QAAQ,YAAY,UAAU,SAAW,IAAIN,MAAM,CAACC,MAAOR,EAAa,UAAES,SAAS,SAAUC,GAAMV,EAAI2B,UAAUjB,GAAKE,WAAW,gBAAgB,GAAGR,EAAG,MAAM,CAACE,YAAY,sBAAsBN,EAAI4B,GAAI5B,EAAS,OAAE,SAAS6B,EAAKC,GAAO,OAAO1B,EAAG,MAAM,CAAC2B,IAAID,EAAMxB,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACN,EAAIsB,GAAGtB,EAAIuB,GAAGM,EAAKG,SAAS5B,EAAG,MAAM,CAACE,YAAY,cAAcN,EAAI4B,GAAIC,EAAW,QAAE,SAASI,EAAEC,GAAO,OAAO9B,EAAG,OAAO,CAAC2B,IAAIG,EAAM5B,YAAY,eAAe6B,MAAM,CAAEC,OAAQP,EAAKQ,YAAcH,GAAQpB,GAAG,CAAC,MAAQ,SAASE,GAAQa,EAAKQ,WAAaH,KAAS,CAAClC,EAAIsB,GAAGtB,EAAIuB,GAAGU,SAAQ,QAAO7B,EAAG,MAAM,CAACE,YAAY,sBAAsBF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,OAAO,CAACJ,EAAIsB,GAAG,UAAUlB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,cAAc,CAACS,MAAM,CAAC,MAAQ,QAAQ,IAAM,IAAI,cAAc,MAAMN,MAAM,CAACC,MAAOR,EAAS,MAAES,SAAS,SAAUC,GAAMV,EAAIQ,MAAME,GAAKE,WAAW,YAAY,KAAKR,EAAG,MAAM,CAACE,YAAY,wBAAwBF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACJ,EAAIsB,GAAG,UAAUlB,EAAG,MAAM,CAACE,YAAY,QAAQN,EAAI4B,GAAI5B,EAAQ,MAAE,SAAS6B,EAAKC,GAAO,OAAO1B,EAAG,IAAI,CAAC2B,IAAID,GAAO,CAAC9B,EAAIsB,GAAGtB,EAAIuB,GAAGO,EAAQ,GAAG,IAAI9B,EAAIuB,GAAGM,SAAW,MAAM,GAAGzB,EAAG,mBAAmB,CAACA,EAAG,wBAAwB,CAACS,MAAM,CAAC,KAAO,QAAQ,KAAO,MAAM,MAAwB,GAAhBb,EAAIsC,SAAgB,GAAKtC,EAAIsC,SAAS,MAAQtC,EAAIsC,SAAW,EAAI,UAAY,IAAIxB,GAAG,CAAC,MAAQd,EAAIuC,SAASnC,EAAG,wBAAwB,CAACS,MAAM,CAAC,KAAOb,EAAIwC,OAAS,SAAW,OAAO,KAAOxC,EAAIwC,OAAS,MAAQ,MAAM,MAAQxC,EAAIyC,EAAIzC,EAAIyC,EAAI,IAAI3B,GAAG,CAAC,MAAQd,EAAI0C,eAAetC,EAAG,0BAA0B,CAACS,MAAM,CAAC,KAAO,UAAU,MAAQ,UAAU,KAAO,SAASC,GAAG,CAAC,MAAQ,SAASE,GAAQ,OAAOhB,EAAI2C,aAAavC,EAAG,0BAA0B,CAACS,MAAM,CAAC,KAAO,SAAS,MAAQ,UAAU,KAAO,QAAQC,GAAG,CAAC,MAAQ,SAASE,GAAQ,OAAOhB,EAAI4C,eAAc,QAAW,IAAI,IACplGC,EAAkB,G,8BCoEtB,GACElB,OACE,MAAO,CACLhB,UAAWM,KAAKC,KAAqB,EAAhBD,KAAKO,UAC1BsB,MAAM,EACNC,WAAW,EACXC,QAAS,CACP,CACE,CAAEV,KAAM,KAAMlB,KAAM,SAAU6B,QAAS,UAAWzC,YAAa,SAC/D,CAAE8B,KAAM,KAAMlB,KAAM,KAAM6B,QAAS,WACnC,CAAEX,KAAM,MAAOlB,KAAM,iBAAkB6B,QAAS,UAChD,CAAEX,KAAM,KAAMlB,KAAM,QAAS6B,QAAS,SACtC,CAAEX,KAAM,OAAQlB,KAAM,OAAQ6B,QAAS,SACvC,CAAEX,KAAM,OAAQlB,KAAM,SAAU6B,QAAS,UAG3C,CACE,CAAEX,KAAM,UAAWlB,KAAM,SAAU6B,QAAS,YAC5C,CAAEX,KAAM,OAAQlB,KAAM,eAAgB6B,QAAS,UAC/C,CAAEX,KAAM,MAAOlB,KAAM,YAIzB8B,SAAU,EACVV,OAAQ,GACRW,MAAO,GACPV,MAAO,EACPW,KAAM,GACNC,QAAQ,EACRC,IAAK,GACLnC,EAAG,KAIPoC,OAAQ,CAACC,EAAAA,GAETC,UAKExD,KAAKyD,UAAUzD,KAAK0D,OAAOC,MAAMN,KACjCrD,KAAKqD,IAAMrD,KAAK0D,OAAOC,MAAMN,IAC7BrD,KAAK4D,YACL5D,KAAK6D,mBACL7D,KAAK8D,gBAEPC,QAAS,CACPC,SAASC,GACY,OAAfA,EAAO5B,KAIQ,MAAf4B,EAAO5B,KAIQ,MAAf4B,EAAO5B,KAIQ,MAAf4B,EAAO5B,OAIX,OAAM4B,EAAOjB,SACbhD,KAAK8C,WAAY,GAJfhC,OAAOwB,SAASG,KAAO,qBAJvB3B,OAAOwB,SAASG,KAAO,yBAJvB3B,OAAOwB,SAASG,KAAO,wBAJvBzC,KAAK6C,MAAO,GAkBhBe,YACOM,aAAaxB,QAAQ,QAG1B1C,KAAKmE,MAAM,CACTlC,OAAQ,MACRmC,IAAK,eACLC,OAAQ,CACNC,OAAQtE,KAAKsE,OACbC,YAAaL,aAAaxB,QAAQ,UAEnCC,MAAK6B,IACNC,QAAQC,IAAI,OAAQF,GACpBxE,KAAKkB,EAAIsD,EAAI9C,KAAKiD,OAAOC,WAG7Bf,mBACOK,aAAaxB,QAAQ,QAG1B1C,KAAKmE,MAAM,CACTlC,OAAQ,MACRmC,IAAK,YACLC,OAAQ,CACNC,OAAQtE,KAAKsE,OACbjB,IAAKrD,KAAKqD,IACVkB,YAAaL,aAAaxB,QAAQ,UAEnCC,MAAK6B,IACNC,QAAQC,IAAI,SAAUF,GACQ,GAA1BA,EAAI9C,KAAKiD,OAAOC,OAClB5E,KAAKoD,QAAS,EAEdpD,KAAKoD,QAAS,MAIpBtC,cACEd,KAAK6E,QAAQC,IAAI,IAEnBxC,QACO4B,aAAaxB,QAAQ,OAGxB1C,KAAK6E,QAAQE,KAAK,CAAE1C,KAAM,SAF1B,OAAM,UAKVI,cACOyB,aAAaxB,QAAQ,QAI1B1C,KAAKoD,QAAUpD,KAAKoD,OACfpD,KAAKoD,QAuBRpD,KAAKmE,MAAM,CACTlC,OAAQ,OACRmC,IAAK,WACL1C,KAAM,CACJ4C,OAAQtE,KAAKsE,OACbjB,IAAKrD,KAAKqD,IACVkB,YAAaL,aAAaxB,QAAQ,UAEnCC,MAAK6B,IACNC,QAAQC,IAAI,SAAUF,GACtBxE,KAAKkB,EAAIlB,KAAKkB,EAAI,EACJ,GAAVlB,KAAKkB,IACPlB,KAAKkB,GAAI,MAGblB,KAAKgF,OAAO,CACV7D,KAAM,SACN6B,QAAS,QACTkB,SAAU,QAxCZlE,KAAKmE,MAAM,CAETlC,OAAQ,OAERmC,IAAK,QAEL1C,KAAM,CACJ4C,OAAQtE,KAAKsE,OACbjB,IAAKrD,KAAKqD,IACVkB,YAAaL,aAAaxB,QAAQ,UAGnCC,MAAK6B,IACNC,QAAQC,IAAI,SAAUF,GACtBxE,KAAKkB,GAAK,KAEZlB,KAAKgF,OAAO,CACV7D,KAAM,OACN6B,QAAS,QACTkB,SAAU,SAxBZ,OAAM,UAiDVxB,OAAOuC,GACL,IAAKf,aAAaxB,QAAQ,OAGxB,OAFA1C,KAAKgF,OAAO,aACZhF,KAAK6E,QAAQE,KAAK,CAAE1C,KAAM,UAG5B,IAAI8B,EAAOnE,KAAKkD,MAAMgC,KAAIC,GACjBA,EAAEC,OAAOD,EAAE/C,cAGpBpC,KAAKmE,MAAM,CACTlC,OAAQ,OACRmC,IAAK,eACL1C,KAAM,CACJyC,KAAMA,EAAKkB,KAAK,KAChBhC,IAAKrD,KAAKqD,IACVpB,MAAOjC,KAAKwC,MACZ8B,OAAQtE,KAAKsE,OACbC,YAAaL,aAAaxB,QAAQ,UAGnCC,MAAK6B,IACJC,QAAQC,IAAI,UAAWF,GAEF,KAAjBA,EAAI9C,KAAK4D,MACXtF,KAAKgF,OAAO,WACPC,EAKHjF,KAAK6E,QAAQE,KAAK,CAChB1C,KAAM,MACNsB,MAAO,CAAEU,KAAMG,EAAI9C,KAAK6D,OANH,GAAnBf,EAAI9C,KAAK0B,QACXpD,KAAKiD,YASTjD,KAAKgF,OAAO,cAGfV,OAAMC,IACLE,QAAQC,IAAIH,OAGlB5B,cAAcsC,GACZjF,KAAK0C,OAAOuC,IAEdxB,UAAUJ,GAERrD,KAAKgF,OAAOQ,QAAQ,CAClBxC,QAAS,SACTyB,aAAa,EACbP,SAAU,IAGZlE,KAAKmE,MAAM,CAETlC,OAAQ,MAERmC,IAAK,iBAELC,OAAQ,CACNC,OAAQtE,KAAKsE,OACbjB,IAAKA,KAINV,MAAK6B,IAEJxE,KAAKgF,OAAOS,QACZhB,QAAQC,IAAI,YAAaF,GACzBxE,KAAKuC,OAASiC,EAAI9C,KAAKiD,OAAO,GAC9B3E,KAAKmD,KAAOqB,EAAI9C,KAAKiD,OAAO,GAAGxB,KAAKuC,MAAM,MAC1C,IAAIhE,EAAO8C,EAAI9C,KAAKiD,OAAO,GACvBD,EAAW,CAAC,QAAS,OAAQ,QAAS,OAC1CA,EAASQ,KAAIC,IAEX,IAAIR,EAAM,CACVA,OAAa,GACbA,WAAiB,GAEjBA,EAAI5C,KAAOL,EAAKyD,EAAI,SACpB,IAAIP,EAAalD,EAAKyD,GAAGO,MAAM,KAC/Bd,EAAWM,KAAIlD,IACJ,IAALA,GACF2C,EAAIS,OAAOL,KAAK/C,MAIhB2C,EAAIS,OAAOR,OAAS,GACtB5E,KAAKkD,MAAM6B,KAAKJ,SAKrBL,OAAMC,IACLE,QAAQC,IAAI,OAAQH,SC3UkQ,I,UCO5RoB,GAAY,OACd,EACA7F,EACA8C,GACA,EACA,KACA,KACA,MAIF,EAAe+C,EAAiB,S,qDCjBzB,MAAMC,EAAI,CACbvC,QAAS,CACLwC,eACI,IAAIhC,EAAciC,aAAaC,QAAQ,OAElClC,IAIL7D,KAAKgF,OAAOQ,QAAQ,CAChB1C,QAAS,SACT2B,aAAa,EACbP,SAAU,IAGdlE,KAAKgG,MAAM,CACPvC,OAAQ,MACRC,IAAK,gBACLC,OAAQ,CACJC,OAAQ5D,KAAK4D,OACbC,YAAAA,KAELC,MAAKC,IAEJ/D,KAAKgF,OAAOS,QACS,KAAjB1B,EAAIR,KAAK+B,OACTtF,KAAKqC,SAAW0B,EAAIR,KAAK0C,WAG9B3B,OAAMC,IACLvE,KAAKgF,OAAOS,gB","sources":["webpack://muban/./src/views/Detail.vue?efd0","webpack://muban/src/views/Detail.vue","webpack://muban/./src/views/Detail.vue?a308","webpack://muban/./src/views/Detail.vue","webpack://muban/./src/mixin.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"allDetail\"},[_c('van-popup',{model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('img',{attrs:{\"src\":require(\"../assets/icons/Code.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"share\"},[_c('van-nav-bar',{attrs:{\"title\":\"商品详情\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_c('van-cell',{attrs:{\"title\":\"分享\",\"icon\":\"share-o\"},on:{\"click\":function($event){_vm.showShare = true}}}),_c('van-share-sheet',{attrs:{\"title\":\"立即分享给好友\",\"options\":_vm.options},on:{\"select\":_vm.onSelect},model:{value:(_vm.showShare),callback:function ($$v) {_vm.showShare=$$v},expression:\"showShare\"}})],1),_c('div',{staticClass:\"detail\"},[_c('img',{attrs:{\"src\":_vm.detail.large_img,\"alt\":\"\"}})]),_c('div',{staticClass:\"all-detail\"},[_c('div',{staticClass:\"name-detail\"},[_c('div',{staticClass:\"detail-name\"},[_c('span',[_vm._v(_vm._s(_vm.detail.name))])]),_c('div',{staticClass:\"detail-price\"},[_c('span',[_vm._v(\"¥\"+_vm._s(_vm.detail.price))])])]),_c('div',{staticClass:\"detail-enname\"},[_c('span',[_vm._v(_vm._s(_vm.detail.enname))])]),_c('div',{staticClass:\"put\"},[_c('span',[_vm._v(\"推荐指数：\")]),_vm._v(\" \"),_c('van-rate',{attrs:{\"icon\":\"smile\",\"void-icon\":\"smile-o\",\"readonly\":\"\"},model:{value:(_vm.starvalue),callback:function ($$v) {_vm.starvalue=$$v},expression:\"starvalue\"}})],1),_c('div',{staticClass:\"van-hairline--top\"}),_vm._l((_vm.rules),function(item,index){return _c('div',{key:index,staticClass:\"specs\"},[_c('div',{staticClass:\"specs-detail\"},[_vm._v(_vm._s(item.type))]),_c('div',{staticClass:\"choose-box\"},_vm._l((item.choose),function(k,count){return _c('span',{key:count,staticClass:\"spece-choose\",class:{ active: item.rulesIndex == count },on:{\"click\":function($event){item.rulesIndex = count}}},[_vm._v(_vm._s(k))])}),0)])}),_c('div',{staticClass:\"van-hairline--top\"}),_c('div',{staticClass:\"specs-detail\"},[_c('div',{staticClass:\"num\"},[_c('span',[_vm._v(\"选择数量\")]),_c('div',{staticClass:\"numCount\"},[_c('van-stepper',{attrs:{\"theme\":\"round\",\"max\":\"8\",\"button-size\":\"22\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)]),_c('div',{staticClass:\"van-hairline--top\"})]),_c('div',{staticClass:\"text-detail\"},[_c('span',[_vm._v(\"商品描述\")]),_c('div',{staticClass:\"desc\"},_vm._l((_vm.desc),function(item,index){return _c('p',{key:index},[_vm._v(_vm._s(index + 1)+\".\"+_vm._s(item))])}),0)])],2),_c('van-goods-action',[_c('van-goods-action-icon',{attrs:{\"icon\":\"bag-o\",\"text\":\"购物袋\",\"badge\":_vm.bagCount == 0 ? '' : _vm.bagCount,\"color\":_vm.bagCount > 0 ? '#0c34ba' : ''},on:{\"click\":_vm.toCar}}),_c('van-goods-action-icon',{attrs:{\"icon\":_vm.status ? 'like-o' : 'like',\"text\":_vm.status ? '未收藏' : '已收藏',\"badge\":_vm.l ? _vm.l : ''},on:{\"click\":_vm.onClickIcon}}),_c('van-goods-action-button',{attrs:{\"type\":\"warning\",\"color\":\"#6a91ec\",\"text\":\"加入购物袋\"},on:{\"click\":function($event){return _vm.addCar()}}}),_c('van-goods-action-button',{attrs:{\"type\":\"danger\",\"color\":\"#0c34ba\",\"text\":\"立即购买\"},on:{\"click\":function($event){return _vm.onClickButton(true)}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"allDetail\">\r\n    <van-popup v-model=\"show\"><img src=\"../assets/icons/Code.png\" alt=\"\"></van-popup>\r\n    <div class=\"share\">\r\n      <van-nav-bar title=\"商品详情\" left-text=\"返回\" left-arrow @click-left=\"onClickLeft\" />\r\n      <van-cell title=\"分享\" icon=\"share-o\" @click=\"showShare = true\" />\r\n      <van-share-sheet v-model=\"showShare\" title=\"立即分享给好友\" :options=\"options\" @select=\"onSelect\" />\r\n    </div>\r\n    <div class=\"detail\">\r\n      <img :src=\"detail.large_img\" alt />\r\n    </div>\r\n    <div class=\"all-detail\">\r\n      <div class=\"name-detail\">\r\n        <div class=\"detail-name\">\r\n          <span>{{ detail.name }}</span>\r\n        </div>\r\n        <div class=\"detail-price\">\r\n          <span>¥{{ detail.price }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"detail-enname\">\r\n        <span>{{ detail.enname }}</span>\r\n      </div>\r\n      <div class=\"put\"><span>推荐指数：</span> <van-rate icon=\"smile\" void-icon=\"smile-o\" v-model=\"starvalue\" readonly /></div>\r\n      <div class=\"van-hairline--top\"></div>\r\n      <!-- 规格开始 -->\r\n      <div class=\"specs\" v-for=\"(item, index) in rules\" :key=\"index\">\r\n        <div class=\"specs-detail\">{{ item.type }}</div>\r\n        <div class=\"choose-box\">\r\n          <span :class=\"{ active: item.rulesIndex == count }\" @click=\"item.rulesIndex = count\"\r\n            v-for=\"(k, count) in item.choose\" :key=\"count\" class=\"spece-choose\">{{ k }}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 规格选择结束 -->\r\n      <div class=\"van-hairline--top\"></div>\r\n      <div class=\"specs-detail\">\r\n        <div class=\"num\">\r\n          <span>选择数量</span>\r\n          <div class=\"numCount\">\r\n            <van-stepper v-model=\"value\" theme=\"round\" max=\"8\" button-size=\"22\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"van-hairline--top\"></div>\r\n      </div>\r\n      <div class=\"text-detail\">\r\n        <span>商品描述</span>\r\n        <div class=\"desc\">\r\n          <p v-for=\"(item, index) in desc\" :key=\"index\">{{ index + 1 }}.{{ item }}</p>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <van-goods-action>\r\n      <van-goods-action-icon icon=\"bag-o\" text=\"购物袋\" :badge=\"bagCount == 0 ? '' : bagCount\"\r\n        :color=\"bagCount > 0 ? '#0c34ba' : ''\" @click=\"toCar\" />\r\n      <van-goods-action-icon :icon=\"status ? 'like-o' : 'like'\" :text=\"status ? '未收藏' : '已收藏'\" :badge=\"l ? l : ''\"\r\n        @click=\"onClickIcon\" />\r\n      <van-goods-action-button @click=\"addCar()\" type=\"warning\" color=\"#6a91ec\" text=\"加入购物袋\" />\r\n      <van-goods-action-button type=\"danger\" color=\"#0c34ba\" text=\"立即购买\" @click=\"onClickButton(true)\" />\r\n    </van-goods-action>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { a } from '../mixin'\r\nimport \"../assets/less/detail.less\";\r\nimport { Toast } from \"vant\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      starvalue: Math.ceil(Math.random() * 5),\r\n      show: false,\r\n      showShare: false,\r\n      options: [\r\n        [\r\n          { name: '微信', icon: 'wechat', message: '分享给微信好友', description: '你最常用的' },\r\n          { name: 'QQ', icon: 'qq', message: '分享给QQ好友' },\r\n          { name: '朋友圈', icon: 'wechat-moments', message: '分享到朋友圈' },\r\n          { name: '微博', icon: 'weibo', message: '分享到微博' },\r\n          { name: '复制链接', icon: 'link', message: '链接已复制' },\r\n          { name: '分享海报', icon: 'poster', message: '海报已生成' },\r\n\r\n        ],\r\n        [\r\n          { name: '图片保存至本地', icon: 'poster', message: '图片已保存到本地' },\r\n          { name: '小程序码', icon: 'weapp-qrcode', message: '分享到小程序' },\r\n          { name: '二维码', icon: 'qrcode' },\r\n        ],\r\n      ],\r\n\r\n      bagCount: 0,\r\n      detail: {},\r\n      rules: [],\r\n      value: 1,\r\n      desc: [],\r\n      status: true,\r\n      pid: \"\",\r\n      l: \"\",\r\n\r\n    };\r\n  },\r\n  mixins: [a],\r\n  //生命周期\r\n  created() {\r\n\r\n\r\n\r\n\r\n    this.getDetail(this.$route.query.pid);\r\n    this.pid = this.$route.query.pid;\r\n    this.getMylike();\r\n    this.getProductstasus();\r\n    this.shopBagCount();\r\n  },\r\n  methods: {\r\n    onSelect(option) {\r\n      if (option.name == \"二维码\") {\r\n        this.show = true;\r\n        return\r\n      }\r\n      if (option.name == \"微博\") {\r\n        window.location.href = 'https://www.weibo.com'\r\n        return\r\n      }\r\n      if (option.name == \"微信\") {\r\n        window.location.href = 'https://weixin.qq.com/'\r\n        return\r\n      }\r\n      if (option.name == \"QQ\") {\r\n        window.location.href = 'https://im.qq.com/'\r\n        return\r\n      }\r\n      Toast(option.message);\r\n      this.showShare = false;\r\n    },\r\n    getMylike() {\r\n      if (!localStorage.getItem(\"_lk\")) {\r\n        return;\r\n      }\r\n      this.axios({\r\n        method: \"get\",\r\n        url: \"/findAllLike\",\r\n        params: {\r\n          appkey: this.appkey,\r\n          tokenString: localStorage.getItem(\"_lk\")\r\n        }\r\n      }).then(res => {\r\n        console.log(\"查询成功\", res);\r\n        this.l = res.data.result.length;\r\n      });\r\n    },\r\n    getProductstasus() {\r\n      if (!localStorage.getItem(\"_lk\")) {\r\n        return;\r\n      }\r\n      this.axios({\r\n        method: \"get\",\r\n        url: \"/findlike\",\r\n        params: {\r\n          appkey: this.appkey,\r\n          pid: this.pid,\r\n          tokenString: localStorage.getItem(\"_lk\")\r\n        }\r\n      }).then(res => {\r\n        console.log(\"查询收藏成功\", res);\r\n        if (res.data.result.length == 0) {\r\n          this.status = true;\r\n        } else {\r\n          this.status = false;\r\n        }\r\n      });\r\n    },\r\n    onClickLeft() {\r\n      this.$router.go(-1);\r\n    },\r\n    toCar() {\r\n      if (!localStorage.getItem(\"_lk\")) {\r\n        Toast(\"请先登录！\");\r\n      } else {\r\n        this.$router.push({ name: \"Car\" });\r\n      }\r\n    },\r\n    onClickIcon() {\r\n      if (!localStorage.getItem(\"_lk\")) {\r\n        Toast(\"请先登录！\");\r\n        return;\r\n      }\r\n      this.status = !this.status;\r\n      if (!this.status) {\r\n        this.axios({\r\n          //请求的方式 get post\r\n          method: \"post\",\r\n          //请求的路径\r\n          url: \"/like\",\r\n          //get时候用的传递参数的格式 post data\r\n          data: {\r\n            appkey: this.appkey,\r\n            pid: this.pid,\r\n            tokenString: localStorage.getItem(\"_lk\")\r\n          }\r\n          //then表示请求成功的意思\r\n        }).then(res => {\r\n          console.log(\"加入收藏成功\", res);\r\n          this.l += 1;\r\n        });\r\n        this.$toast({\r\n          icon: \"like\",\r\n          message: \"已加入收藏\",\r\n          duration: 1000\r\n        });\r\n      } else {\r\n        this.axios({\r\n          method: \"post\",\r\n          url: \"/notlike\",\r\n          data: {\r\n            appkey: this.appkey,\r\n            pid: this.pid,\r\n            tokenString: localStorage.getItem(\"_lk\")\r\n          }\r\n        }).then(res => {\r\n          console.log(\"取消收藏成功\", res);\r\n          this.l = this.l - 1;\r\n          if (this.l == 0) {\r\n            this.l = false;\r\n          }\r\n        });\r\n        this.$toast({\r\n          icon: \"like-o\",\r\n          message: \"已取消收藏\",\r\n          duration: 1000\r\n        });\r\n      }\r\n    },\r\n    addCar(isBuy) {\r\n      if (!localStorage.getItem(\"_lk\")) {\r\n        this.$toast(\"请登录！\");\r\n        this.$router.push({ name: \"Login\" });\r\n        return;\r\n      }\r\n      let rule = this.rules.map(o => {\r\n        return o.choose[o.rulesIndex];\r\n      });\r\n\r\n      this.axios({\r\n        method: \"post\",\r\n        url: \"/addShopcart\",\r\n        data: {\r\n          rule: rule.join(\"/\"),\r\n          pid: this.pid,\r\n          count: this.value,\r\n          appkey: this.appkey,\r\n          tokenString: localStorage.getItem(\"_lk\")\r\n        }\r\n      })\r\n        .then(res => {\r\n          console.log(\"加入购物车成功\", res);\r\n\r\n          if (res.data.code == 3000) {\r\n            this.$toast(\"加入购物车成功\");\r\n            if (!isBuy) {\r\n              if (res.data.status == 1) {\r\n                this.bagCount++;\r\n              }\r\n            } else {\r\n              this.$router.push({\r\n                name: \"Pay\",\r\n                query: { sids: res.data.sid }\r\n              });\r\n            }\r\n          } else {\r\n            this.$toast(\"加入购物车失败\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    onClickButton(isBuy) {\r\n      this.addCar(isBuy);\r\n    },\r\n    getDetail(pid) {\r\n      // 给加载提示\r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        forbidClick: true,\r\n        duration: 0\r\n      });\r\n      // 笑死ios\r\n      this.axios({\r\n        //请求的方式 get post\r\n        method: \"get\",\r\n        //请求的路径\r\n        url: \"/productDetail\",\r\n        //get时候用的传递参数的格式 post data\r\n        params: {\r\n          appkey: this.appkey,\r\n          pid: pid\r\n        }\r\n        //then表示请求成功的意思\r\n      })\r\n        .then(res => {\r\n          // 请求成功之后清空加载提示\r\n          this.$toast.clear();\r\n          console.log(\"请求成功的产品详情\", res);\r\n          this.detail = res.data.result[0];\r\n          this.desc = res.data.result[0].desc.split(/\\n/);\r\n          let data = res.data.result[0];\r\n          let dataType = [\"cream\", \"milk\", \"sugar\", \"tem\"];\r\n          dataType.map(o => {\r\n            //每次遍历的时候我都新定义一个空的对象\r\n            let obj = {};\r\n            obj.choose = [];\r\n            obj.rulesIndex = 0;\r\n            // 类型\r\n            obj.type = data[o + \"_desc\"];\r\n            let dataChoose = data[o].split(\"/\");\r\n            dataChoose.map(k => {\r\n              if (k != \"\") {\r\n                obj.choose.push(k);\r\n              }\r\n            });\r\n\r\n            if (obj.choose.length > 0) {\r\n              this.rules.push(obj);\r\n            }\r\n          });\r\n          // 继续加判断，如果这个数组不为空我就给rules添加\r\n        })\r\n        .catch(err => {\r\n          console.log(\"请求失败\", err);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=7b6856ef&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// 编写共用的混合文件 export分别暴露\r\nexport const a = {\r\n    methods: {\r\n        shopBagCount() {\r\n            let tokenString = localStorage.getItem('_lk');\r\n            // \r\n            if (!tokenString) {\r\n                return;\r\n            }\r\n\r\n            this.$toast.loading({\r\n                message: \"加载中...\",\r\n                forbidClick: true,\r\n                duration: 0\r\n            });\r\n\r\n            this.axios({\r\n                method: 'GET',\r\n                url: '/shopcartRows',\r\n                params: {\r\n                    appkey: this.appkey,\r\n                    tokenString\r\n                }\r\n            }).then(res => {\r\n\r\n                this.$toast.clear();\r\n                if (res.data.code == 8000) {\r\n                    this.bagCount = res.data.result;\r\n                }\r\n\r\n            }).catch(err => {\r\n                this.$toast.clear();\r\n\r\n            })\r\n        },\r\n    },\r\n\r\n}"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","model","value","callback","$$v","show","expression","attrs","on","onClickLeft","$event","showShare","options","onSelect","detail","large_img","_v","_s","name","price","enname","starvalue","_l","item","index","key","type","k","count","class","active","rulesIndex","bagCount","toCar","status","l","onClickIcon","addCar","onClickButton","staticRenderFns","icon","message","description","rules","desc","pid","mixins","created","methods","window","data","getMylike","method","url","params","appkey","tokenString","then","res","console","getProductstasus","duration","rule","query","sids","catch","err","getDetail","forbidClick","dataType","obj","dataChoose","$router","go","push","$toast","isBuy","map","o","choose","join","code","sid","loading","clear","split","component","a","shopBagCount","localStorage","getItem","axios","result"],"sourceRoot":""}